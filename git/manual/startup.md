---
layout: default
title: git(コマンド)の使い方
---

# gitコマンド

## ■ 準備

以下の環境がそろっていることが前提。
- gitをインストール済みであること。(コマンドプロンプトで`git --version`を実行することで確認できる。)  
- Githubアカウントを作成済みであること。  

>オンラインマニュアル
https://tracpath.com/docs/


"作業ディレクトリ"をGitリポジトリ(ローカルディレクトリ)として初期設定する。  
このディレクトリ上にあるファイルはGitコマンドによりバージョン管理が行えるようになる。  
```
cd "作業ディレクトリ"
git init
```

リモートリポジトリのURLを登録してローカルリポジトリと連携させる。  
```
git remote add origin [Githubで発行したリモートリポジトリURL]
```

連携しているリモートリポジトリのURLを確認する。
```
git remote -v
```


___
## ■ 基本操作
リモートリポジトリに修正を反映させる。  
以下の手順で修正ファイルをリモートリポジトリに反映させる。  
1. ステージへ追加
2. ローカルリポジトリにコミット
3. リモートリポジトリにプッシュ

### 1. 修正をステージ
```
git add *
```

### 2. ステージ内容をコミット
```
git commit -m [コメントを記入する]
```

### 3. リモートにプッシュ
- デフォルトのブランチにプッシュする。
```
git pull
```

- 指定のブランチ(origin main)にプッシュする。
```
git push origin [main]
```

___
## ■ リモートの修正を取り込む

```
git pull
```

___
## ■ ログの確認

```
git log

# or 

git log --oneline

# or 

git log --graph
```



___
## ■ ブランチ

### 1. ブランチの作成

現在のブランチ名を表示する。
```
git branch
```

ブランチを切る。
- 新しいブランチを作成してカレントディレクトリにチェックアウト
```
git checkout -b [ブランチ名]
```

- 既存のブランチをカレントディレクトリにチェックアウト
```
git checkout [ブランチ名]
```

ブランチ("ブランチ名")をmainにマージする。  
>mainにブランチの修正点が反映される。ブランチは削除されない。
```
git checkout main

git merge --no-ff [ブランチ名]
```


___
### 2. ブランチの削除

```
# 方法１
git branch -d [削除するブランチ名]
git push origin [削除するブランチ名]


# 方法２
git push origin --delete [削除するブランチ名]
```


___
## ■ ロールバック

ローカルリポジトリにコミットした修正を取り消したい場合。  
^は１つ前のコミットを取り消す。  
~はN回分のコミットを取り消す。
```
git reset --head HEAD^

# or

git reset --head HEAD~N
```

さらに、プッシュすることでリモートの修正も取り消す。
```
git push -f origin [ブランチ]
```


## ■ ファイル削除

ローカルとリモートの両方からファイルを削除する。
```
git rm [ファイル名]
```

また、リモートのファイルのみ削除する。
```
git rm --cached [ファイル名]
```

___
## ■ 管理対象外設定

.gitignore

```
git rm -r --cached .
git add .
git commit -m ".gitignoreを再適応する。"
```

